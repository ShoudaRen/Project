<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!--edge浏览器H5兼容设置-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--360浏览器H5兼容设置-->
    <meta name="renderer" content="webkit" />
    <title>Book Ticket</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--导入核心文件-->
    <script src="../bootstrap3/js/holder.js"></script>
    <link href="../bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
    <script src="../js/jquery-1.9.1.min.js"></script>
    <script src="../js/UsershowState.js" ></script>

    <!-- modified 11/11/2021 -->
    <link rel="stylesheet" href="../fontAwesome/css/all.css">
    <link rel="stylesheet" href="../CSS/base.css">
    <link rel="stylesheet" href="../CSS/head.css">
    <link rel="stylesheet" href="../CSS/footer.css">
    <link rel="icon" href="../static/ICON.png" type="image/x-icon">

    <style>

        #se {
            font-weight: bolder;
            font-size: larger;
            display: block;
            margin-top: 40px;

        }
        .myService {
            float: left;
            margin: 15px 15px;
            position: relative;
        }
        #servicePart{
            height: 300px;
            width: 100%;
        }
        .superBottom{
            top: 150%;
        }
        #Confirm{
            background-color: #0c52a4;
            color: honeydew;
            border: none;
            height: 30px;
            line-height: 30px;
        }
        #mySeat{
            width: 70px;
        }
        .col-md-4{
            width: 200px;
        }

        input
        {
            color: black;
            outline: none;
            border: none;
        }
        input:hover{
            color: black;
            cursor: text;
        }

        #allPrice{
            width: 160px;
            height: 30px;
            float: right;
            margin-bottom: 30px;
        }
        #allPrice input{
            width: 50px;
            background: transparent;
        }

        #form-create-order th,  #form-create-order td{
            text-align: center;
        }
    </style>
</head>

<body>
<!--头部-->
<!--头部-->
<div class="top">
    <div class="mid w">
        <div class="logo"><a href="index.html"><img src="../static/logo.png" alt="logo"></a></div>
        <div class="user">
            <div id="tel"><i class="fa fa-phone"></i> TEL:88888888</div>
            <div></div>
            <form id="LogSignup">
                <div class="service"> <i class="fa fa-user"> </i>
                    <a onclick="checkname()"> <input id="userShow" type="button" name="userShow" value="Log In" readonly="readonly"></a> </div>
                <div>|</div>
                <div class="service"><a onclick="checksignout()"><input id="userOutgg" type="button" name="userOut" value="SIGN UP" readonly="readonly"></a> </div>
            </form>
        </div>
    </div>
</div>
<div class="secondmid w">
    <div><a href="help.html">Help and Contacts</a></div>
    <div class="SpecialOffer"><a id="qw" href="Onsalesticket.html">On Sales</a>
    </div>
    <div><a href="userdata.html">Manage</a></div>
    <div><a href="allticket.html">All flights</a></div>
</div>
<!--导航结束-->
<div class="container">
    <div class="col-md-offset-1 col-md-10">
        <div class="col-md-4">
            <div id="comfirmOrder" class="col-md-12 order-bar-active">
                1.booking service
                <span class="pull-right"><span class="fa fa-chevron-right"></span></span>
            </div>
        </div>
        <div class="col-md-4">
            <div id="Confirm" class="col-md-12 order-bar-active">
                2.Confirm Order
                <span class="pull-right"><span class="fa fa-chevron-right"></span></span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="col-md-12 order-bar-undo">
                3.Pay Online
                <span class="pull-right"><span class="fa fa-chevron-right"></span></span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="col-md-12 order-bar-undo">
                4.Pay Success
            </div>
        </div>

        <div class="col-md-12">

                <div class="form-group">
                </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <p class="panel-title">Ticket Details：</p>
                    </div>
                    <div class="panel-body">
                        <p id="se">My Service：</p>
                        <form id="myServiceBooking">
                            <div id="servicePart">
                                <div class="myService"><label>Meals:</label>
                                    <input name="meals" id="meals" value="Meals" readonly="readonly">
                                </div>
                                <div class="myService"><label>Airport Pickup:</label>
                                    <input name="pickup" id="pickup" value="pickup" readonly="readonly">
                                </div>
                                <div class="myService"><label>Transit Lounge:</label>
                                    <input name="transitLounge" id="transitLounge" value="transitLounge" readonly="readonly">
                                </div>
                                <div class="myService"><label>Special Services:</label>
                                    <input name="specialServices" id="specialServices" value="specialServices" readonly="readonly">
                                </div>
                                <div class="myService"><label>Transit Hotel:</label>
                                    <input name="transitHotel" id="transitHotel" value="transitHotel" readonly="readonly">
                                </div>
                                <div class="myService"><label>Extra Luggage:</label>
                                    <input name="extraLuggage" id="extraLuggage" value="extraLuggage" readonly="readonly">
                                </div>
                            </div>
                            <div id="allPrice">
                                <span>Price Difference: </span> <input readonly="readonly" name="totalPrice" id="totalPrice" value="3333"><span>GBP</span>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="pay-bar">
                    <a href="index.html">Return</a>
                    <span class="pull-right"><input id="btn-pay-order" type="button" value="CHECK AND PAY"
                                                    class="btn btn-primary btn-lg link-pay" /></span>
                </div>

        </div>
    </div>
</div>

<!--  footer-->
<div class="superBottom">
    <div class="bottomMiddle w">
        <div class="bottomF">
            <div><a href="javascript:;">Help and contacts</a></div>
            <div class="mark">|</div>
            <div><a href="javascript:;">About Us</a></div>
            <div class="mark">|</div>
            <div><a href="javascript:;">Manage</a></div>
            <div class="mark">|</div>
            <div><a href="javascript:;">Special Offers</a></div>
            <div class="mark">|</div>
            <div><a href="javascript:;">Privacy policy</a></div>
            <div class="mark">|</div>
            <div><a href="javascript:;">Website security</a></div>
        </div>
        <!-- <div class="bottomS"></div> -->
        <div class="copyright">© Super Airways - all rights reserved</div>
        <div class="bottomImg"><img src="../static/logo.png" alt="logo"></div>

    </div>


</div>



<!--show user's service-->
<script type="text/javascript">
    $(document).ready(function(){
        $.ajax({
            url:"/allMyBooking/getService",
            type:"get",
            data:$("#myServiceBooking").serialize(),
            dataType:"JSON",
            success : function(json){
                if(json.state==200){
                    $("#meals").val(json.data.meals);
                    $("#pickup").val(json.data.pickup);
                    $("#transitLounge").val(json.data.transitLounge);
                    $("#specialServices").val(json.data.specialServices);
                    $("#transitHotel").val(json.data.transitHotel);
                    $("#extraLuggage").val(json.data.extraLuggage);
                    $("#totalPrice").val(json.data.totalPrice-json.data.classPrice);


                }else { alert("data does not exist");}
            }
        });
    });
</script>


<script type="text/javascript">
    $("#btn-pay-order").click(function () {
        $.ajax({
            url:"/allMyBooking/getService",
            type:"POST",
            dataType:"JSON",
            success : function(json){
                if(json.state==200){
                   if (json.data.isDelete>0){
                       location.href="payPage2.html";
                   }else {
                      location.href="refundPay.html";
                   }
                }else { alert("pay Failed");}
            },
            error:function (xhr){
                alert("oops! An unknown error for pay"+" "+xhr.message)
            }
        });
    });

</script>








<!--show user's information-->
<script src="../js/User.js"></script>
</body>

</html>